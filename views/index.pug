extends layout

block content

  #menubuttondiv
    img#menubutton(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400487/HMFinance/menu_mbgzym.png')
  #navbar
    ul
      li
        //Clicking here it changes the language
        div 
          a(href='/setlanguage/pt') #{translations.both.pt}
          a(href='/setlanguage/en') #{translations.both.en}
      li
        a#homeid(href='#home') #{translations[locale].SectionsTitles.HMFinance}
      li
        a(href='#clients') #{translations[locale].SectionsTitles.Clients}
      li
        a(href='#services') #{translations[locale].SectionsTitles.Services}
      li
        a(href='#simulators') #{translations[locale].SectionsTitles.Simulators}
      li
        a(href='#contactus') #{translations[locale].SectionsTitles.ContactUs}
      li
        a(href='#reviews') #{translations[locale].SectionsTitles.Reviews}


  #home
    .pcontainer
      img.pimage(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400514/HMFinance/1_apounu.jpg', data-speed='-1')
      #graytowhiteseparator
        h1 #{translations[locale].SectionsTitles.Clients}
    #logo
      img(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400548/HMFinance/logo_o95cr6.png', alt='HM Finance')
      h2 #{translations[locale].Others.PersonalT}
    #describox
      #descri
        h3#descri1
          p #{locale === 'pt' ? PTaboutUS[0] : ENaboutUS[0]}
        h3#descri2
          p #{locale === 'pt' ? PTaboutUS[1] : ENaboutUS[1]}
        h3#descri3
          p #{locale === 'pt' ? PTaboutUS[2] : ENaboutUS[2]}
        h3#descri4
          p #{locale === 'pt' ? PTaboutUS[3] : ENaboutUS[3]}
  a#clients.anchor
  #clients
    .clientsgrid
      .clientsgrid1
        img(src=`${data.clients[0].logoURL}`)
        div
          h3 #{data.clients[0].name}
          
      .clientsgrid2
        img(src=`${data.clients[1].logoURL}`)
        div
          h3 #{data.clients[1].name}
          
      .clientsgrid3
        img(src=`${data.clients[2].logoURL}`)
        div
          h3 #{data.clients[2].name}
          
    #mid
  #services
    #whitetograyseparator
      h1 #{translations[locale].SectionsTitles.Services}
    .pcontainer
      img.pimage(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400630/HMFinance/2_vcmkd1.jpg', data-speed='-1')
      .servicesgrid
        .servicesgrid1
          img(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400635/HMFinance/business_iwqxby.png')
          h3
            | #{translations[locale].Services.Titles.Company}
        .servicesgrid2
          img(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400640/HMFinance/chrome_reader_mode_wkvu7r.png')
          h3
            | #{translations[locale].Services.Titles.Accounting} 
        .servicesgrid3
          img(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400651/HMFinance/find_in_page_tymyis.png')
          h3
            | #{translations[locale].Services.Titles.Analytical}
        .servicesgrid4 
          img(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400657/HMFinance/folder_shared_trdzmq.png')
          h3
            | #{translations[locale].Services.Titles.HR}
        .servicesgrid5
          img(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400664/HMFinance/security_jnmi63.png')
          h3
            | #{translations[locale].Services.Titles.Party}
        .servicesgrid6 
          img(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400674/HMFinance/people_edlhre.png')
          h3
            | #{translations[locale].Services.Titles.Others} 

      #graytowhiteseparator
        h1 #{translations[locale].SectionsTitles.Simulators}
    a#simulators.anchor


    #simulators
      br
      #sims
        a(href='' target='_blank')
      br

    #contactus
      #whitetograyseparator
        h1 #{translations[locale].SectionsTitles.ContactUs}
      .pcontainer
        img.pimage(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400685/HMFinance/3_mfe5ys.jpg', data-speed='-1')
        .contactusgrid
          .contactusgrid1
            h3 #{translations[locale].ContactUs.Email}
            p #{data.contactUs[0].email}
            br
            br
            h3 #{translations[locale].ContactUs.Phone}
            p #{data.contactUs[0].phone}
            br
            br
            h3 #{translations[locale].ContactUs.Address}
            p #{data.contactUs[0].address1}
            br
            p #{data.contactUs[0].address2}
            br
            br
            iframe(src='https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3111.3393594753975!2d-9.229967885011321!3d38.75591977959266!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd1ecd05db2f959d%3A0x16d90a25b997894d!2sHM+Finance!5e0!3m2!1spt-PT!2spt!4v1488308784739', allowfullscreen='', width='100%', height='100%', frameborder='0')
          .contactusgrid2
            form(action="/sendmessage", method="post")
              h3 #{translations[locale].ContactUs.FormName}
              input(type='text', name='name', onfocus="this.value=''", value=`${translations[locale].Others.ContactUsForm.Name}`)
              h3 #{translations[locale].ContactUs.FormEmail}
              input(type='text', name='email', onfocus="this.value=''", value=`${translations[locale].Others.ContactUsForm.Email}`)
              h3 #{translations[locale].ContactUs.FormMessage}
              textarea#question(name='question', rows='10') #{translations[locale].Others.ContactUsForm.Help}
              input(type='submit', value='SEND')
        #graytowhiteseparator
          h1 #{translations[locale].SectionsTitles.Reviews}
      a#reviews.anchor


    #reviews
      #reviewimg
        #reviewimg1
          i
            b #{data.review[0].name}
        #reviewimg2
          i
            b #{data.review[1].name}
        #reviewimg3
          i
            b #{data.review[2].name}
        #reviewimg4
          i
            b #{data.review[2].name}
      #reviewbox
        #reviewbox1
          h5 &ldquo;
          | &thinsp; #{locale === 'pt' ? data.review[0].commentPT : data.review[0].commentEN}
          br
          br
          h5 &rdquo;
        #reviewbox2
          h5 &ldquo;
          | &thinsp; #{locale === 'pt' ? data.review[1].commentPT : data.review[1].commentEN}
          br
          br
          h5 &rdquo;
        #reviewbox3
          h5 &ldquo;
          | &thinsp; #{locale === 'pt' ? data.review[2].commentPT : data.review[2].commentEN}
          br
          br
          h5 &rdquo;
        #reviewbox4
          h5 &ldquo;
          | &thinsp; #{locale === 'pt' ? data.review[2].commentPT : data.review[2].commentEN}
          br
          br
          h5 &rdquo;

    #footer
      .footergrid
        .footergrid1
          a(href='')
            img(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400724/HMFinance/thumb_up_qvazx4.png', width='20', height='20')
            p #{translations.both.Footer.Face}
        .footergrid2
          a(href='')
            img(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400733/HMFinance/camera_alt_cf6vl3.png', width='20', height='20')
            p #{translations.both.Footer.Insta}
        .footergrid3
          a(href='')
            img(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400739/HMFinance/email_ixwfqo.png', width='20', height='20')
            p #{translations.both.Footer.LinkIn}
        .footergrid4
          a(href='')
            img(src='https://res.cloudinary.com/dcpwkfvej/image/upload/v1580400739/HMFinance/email_ixwfqo.png', width='20', height='20')
            p #{translations.both.Footer.Email}
        .footergrid5
          h4 #{translations.both.Footer.HMFin}
        .footergrid6
          h4 #{translations.both.Footer.WCS}

  script.
    $('textarea#question').focus(function() {
      $(this).val('');
    });
    $('.pimage').each(function(){
      var img = $(this);
      var imgParent = $(this).parent();
      
      function parallaxImg () {
        var speed = img.data('speed');
        var imgY = imgParent.offset().top;
        var winY = $(this).scrollTop();
        var winH = $(this).height();
        var parentH = imgParent.innerHeight();
        var winBottom = winY + winH;

        if (winBottom > imgY && winY < imgY + parentH) {
          var imgBottom = ((winBottom - imgY) * speed);
          var imgTop = winH + parentH;
          var imgPercent = ((imgBottom / imgTop) * 100) + (50 - (speed * 50));
        }
        img.css({
          top: imgPercent + '%',
          transform: 'translate(-50%, -' + imgPercent + '%)'
        });
      }

      $(document).on({
        scroll: function () {
          parallaxImg();
        }, ready: function () {
          parallaxImg();
        }
      });
    });

    ;(function($, win) {
      $.fn.inViewport = function(cb) {
        return this.each(function(i,el){
          function visPx(){
            var H = $(this).height(),
            r = el.getBoundingClientRect(), t=r.top, b=r.bottom;
            return cb.call(el, Math.max(0, t>0? H-t : (b<H?b:H)));
          } visPx();
          $(win).on("resize scroll", visPx);
        });
      };
    }(jQuery, window));
    $("#mid").inViewport(function(px){
      if(px) $(".clientsgrid1").addClass("showscroll1")
      if(px) $(".clientsgrid2").addClass("showscroll2")
      if(px) $(".clientsgrid3").addClass("showscroll3")
      ;
    });
    $(".servicesgrid1").inViewport(function(px){
      if(px) $(".servicesgrid1").addClass("showscroll1")
      if(px) $(".servicesgrid2").addClass("showscroll2")
      if(px) $(".servicesgrid3").addClass("showscroll3")
      if(px) $(".servicesgrid4").addClass("showscroll4")
      if(px) $(".servicesgrid5").addClass("showscroll5")
      if(px) $(".servicesgrid6").addClass("showscroll6")
      ;
    });
    $(".footergrid1").inViewport(function(px){
      if(px) $(".footergrid1").addClass("showscroll1")
      if(px) $(".footergrid2").addClass("showscroll2")
      if(px) $(".footergrid3").addClass("showscroll3")
      if(px) $(".footergrid4").addClass("showscroll4")
      if(px) $(".footergrid5").addClass("showscroll5")
      if(px) $(".footergrid6").addClass("showscroll6")
      ;
    });
    $(".contactusgrid").inViewport(function(px){
      if(px) $(".contactusgrid1").addClass("showscroll1")
      ;
    });
    $(".contactusgrid2").inViewport(function(px){
      if(px) $(".contactusgrid2").addClass("showscroll2")
      ;
    });

  <!-- From here down is just testing stuff -->
  div(onscroll='mailchimptoggle();')

    h1 Homepage

    h1 primeiro cliente 
    p #{data.clients[0].name}
    

    h3 Newsletter Singup Form

    p There is a hidden message for you. Click to see it.
    input#clickMe(type='button', value='clickme', onclick='mailchimptoggle();')

    form.centered.mt-10.ml-10.mr-10(action='/signupmail', method='POST')
      .form-group
        label.form-label(for='firstname') First Name
        input#firstname.form-input(type='text', name='firstname')
      .form-group
        label.form-label(for='lastname') Last Name
        input#lastname.form-input(type='text', name='lastname')
      .form-group
        label.form-label(for='email') Email
        input#email.form-input(type='text', name='email')
      input.btn.btn-primary(type='submit', value='Submit')



    h1 #{translations[locale].SectionsTitles.Simulators}

    h2 #{translations[locale].Services.Titles.Party}

    h3 #{translations[locale].Services.ServicesText.HR}

    h4 #{translations[locale].AboutUs.Subtitle}

    h5 #{translations[locale].ContactUs.FormTitle}

    div
      h2 Reviews

      each review in data.review
        p #{review.id}
        p #{review.name}
        p #{review.email}
        p #{review.commentPT}
        p #{review.titlePT}
        p #{review.company}
        p #{review.isApproved}
        p #{review.isShowing}
        p #{review.commentEN}
        p #{review.titleEN}
        br
        br

    div
      h2 Homepage Data
      
      p #{data.homepage[0].id}
      p #{data.homepage[0].titlePT}
      p #{data.homepage[0].introPT}
      p #{data.homepage[0].aboutUsPT}
      p #{data.homepage[0].aboutUsEN}
      p #{data.homepage[0].introEN}
      p #{data.homepage[0].titleEN}
      br
      br

    div
      h2 Contact Us
      
      p #{data.contactUs[0].id}
      p #{data.contactUs[0].address1}
      p #{data.contactUs[0].address2}
      p #{data.contactUs[0].email}
      p #{data.contactUs[0].phone}
      p #{data.contactUs[0].locationURL}
      br
      br

    div
      h2 Clients

      each client in data.clients
        p #{client.id}
        p #{client.name}
        p #{client.logoURL}
        p #{client.isShowing}
        p #{client.clientURL}
        br
        br

    
    script(type='text/javascript', src='//downloads.mailchimp.com/js/signup-forms/popup/unique-methods/embed.js', data-dojo-config='usePlainJson: true, isDebug: false')
    script(src='/javascripts/mailchimp.js')




